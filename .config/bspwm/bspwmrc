#! /bin/sh
setxkbmap -option grp:alt_shift_toggle -layout de -variant ,phonetic &		#Keyboard to DE
xsetroot -cursor_name left_ptr							#Mouse

####### BSPCWM implementation
bash ~/.config/bspwm/scripts/monitor.sh

bspc config pointer_follows_monitor		true;

bspc config border_width         3
bspc config window_gap           0

bspc config split_ratio          0.5
bspc config borderless_monocle   true
bspc config gapless_monocle      true
bspc config single_monocle			 true

bspc rule -a thunderbird desktop=^10
bspc rule -a feh state=pseudo_tiled

bspc config remove_unplugged_monitors true
bspc config remove_disabled_monitors true

##### Mouse / Touchpad
xinput set-prop "ELAN0683:00 04F3:320B Touchpad" "libinput Tapping Enabled" 1
xinput set-prop "SynPS/2 Synaptics TouchPad" "Synaptics Two-Finger Scrolling" 1 1	#enable 2 Finger Scroll (any Direction)


if [[ "$1" == 0 ]]; then			#Only run on first start
####### SYSTEM CONFIGURATION
	bash ~/.config/bspwm/scripts/polybar_launch.sh 			#Info Bar
	xss-lock ~/.config/bspwm/scripts/lock.sh &					#Lockscreen after Standby

####### SYSTEM APPLICATIONS
	dunst &																							#Notification	
	sxhkd &																							#Keybindings
	poweralertd &																				#Poweralert

####### USER APPLICATIONS
	telegram-desktop -startintray &											#Telegram
	(sleep 5;kdeconnect-indicator)&											#KDEConnect
	XDG_MENU_PREFIX=arch- kbuildsycoca6									#dolphin mime fix

####### THEME
	picom &																							#Compositor
	wal\																								#PYWAL
		-o ~/.config/wal/finalize.sh\												#Script to run after wal
		-e\																									#prevent polybar update
		--theme .cache/wal/colors.json\											#Color Scheme
		-q &
fi
